<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
   <meta charset="utf-8">
   <title>Post Lost Item</title>
   <link rel="stylesheet" href="../static/css/test.css">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <div class="post-lost-item">
 <div class="post-lost-item-container">
     <div class="text">Post Lost Item</div>
     <form action="#" enctype="multipart/form-data" id="lostItemForm">
        <div class="form-row">
           <div class="input-data">
              <input type="text" required>
              <div class="underline"></div>
              <label for="">Item Name</label>
           </div>
           <div class="input-data">
              <input type="text" required>
              <div class="underline"></div>
              <label for="">Belongs to</label>
           </div>
        </div>
        <div class="form-row">
           <div class="input-data">
              <input type="text" required>
              <div class="underline"></div>
              <label for="">Email Address</label>
           </div>
           <div class="input-data">
              <input type="text" required>
              <div class="underline"></div>
              <label for="">Student ID</label>
           </div>
        </div>
        <div class="form-row">
           <div class="input-data textarea">
              <textarea rows="8" cols="80" required></textarea>
              <br />
              <div class="underline"></div>
              <label for="">Description of the Lost Item</label>
           </div>
        </div>

        <!-- File upload input -->
        <div class="form-row">
           <div class="input-data">
              <input type="file" id="itemPhoto" accept=".jpg,.jpeg,.png">
              <p id="uploadMessage"></p>
           </div>
        </div>

        <!-- Centered Post Button -->
        <div class="form-row submit-btn">
           <div class="input-data">
              <div class="inner"></div>
              <input type="submit" value="Post">
           </div>
        </div>
     </form>
  </div>
    </div>

  <!-- Script to handle photo upload -->
  <script>
    document.getElementById('itemPhoto').addEventListener('change', function() {
      const file = this.files[0];
      const message = document.getElementById('uploadMessage');
      const allowedExtensions = ['jpg', 'jpeg', 'png'];
      const fileExtension = file.name.split('.').pop().toLowerCase();
      
      if (file) {
         if (allowedExtensions.includes(fileExtension)) {
            message.style.color = 'green';
            message.innerHTML = 'Photo uploaded successfully!';
         } else {
            message.style.color = 'red';
            message.innerHTML = fileExtension.toUpperCase() + ' file is not allowed.';
            // Clear the file input
            this.value = '';  // Clear the input field
         }
      } else {
         message.style.color = 'red';
         message.innerHTML = 'No file uploaded.';
      }
    });
  </script>

</body>
</html>
